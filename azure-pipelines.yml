trigger:
  branches:
    include:
      - withapi

pr:
  branches:
    include:
      - "*"

pool:
  vmImage: "windows-latest"

steps:
  - task: GitClone@2
    inputs:
      RepositoryURL: "https://github.com/simplic/documentation"
      RepositoryPath: "C:/documentation_clone"
      Branch: "withapi"
      FallbackBranch: "master"
      BaseBranch: "master"

  - task: UsePythonVersion@0
    inputs:
      versionSpec: "3.8.5"
    displayName: "Use Python $(python.version)"

  - task: PythonScript@0
    inputs:
      scriptSource: "filePath"
      scriptPath: "C:/documentation_clone/dev/build/test.py"
      displayName: "Running test.py"
