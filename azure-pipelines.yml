trigger:
  branches:
    include:
      - withapi

pr:
  branches:
    include:
      - "*"

pool:
  vmImage: "windows-latest"

steps:
  - task: CmdLine@2
    inputs:
      script: |
        git clone https://github.com/simplic/documentation -b withapi

  - task: UsePythonVersion@0
    inputs:
      versionSpec: "3.8.5"
    displayName: "Use Python $(python.version)"

  - task: CmdLine@2
    inputs:
      script: |
        cd documentation
        cd dev
        cd build
        pip install -r requirements.txt
        python build.py --ftp-user $(ftp_user) --ftp-pass '$(ftp-pass)'
